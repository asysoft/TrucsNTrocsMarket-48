
@using Microsoft.Practices.Unity;
@using Microsoft.Practices.Unity.Configuration;
@using PagedList.Mvc;
@using BeYourMarket.Web.Extensions;

@model BeYourMarket.Web.Models.SearchListingModel

<div class="col-md-9 section-title mt-5">
    <div class="row">
        <div class="col-md-12">
            <div class="">
                <div class="form-inline pull-right">
                    <div class="form-group">
                        <div class="btn-group" role="group" aria-label="Sort View">
                            <a class="btn btn-primary" href="@Request.UrlReplace("SortView", BeYourMarket.Model.Enum.Enum_SortView.Grid.ToString())"><i class="fa fa-th"></i> [[[Grid]]]</a>
                            <a class="btn btn-primary" href="@Request.UrlReplace("SortView", BeYourMarket.Model.Enum.Enum_SortView.List.ToString())"><i class="fa fa-th-list"></i> [[[List]]]</a>
                        </div>
                    </div>
                </div>
            </div>

            <h4>
                [[[Listings]]] 
            </h4>
        </div>
    </div>

    <div class="row m-b-10">
        <div class="container-fluid body-content">
            @switch (Model.SortView)
            {
                case BeYourMarket.Model.Enum.Enum_SortView.Grid:
                default:

                    @Html.Partial("~/Views/Listing/_ListingGrid.cshtml", Model )
                    break;

                case BeYourMarket.Model.Enum.Enum_SortView.List:
                    @Html.Partial("~/Views/Listing/_ListingGridList.cshtml", Model)
                    break;
                case BeYourMarket.Model.Enum.Enum_SortView.Map:
                    break;

            }
        </div>
    </div>

    <div class="panel-header bdr-b">
        <div class="container-fluid">
            <div class=" col-md-12">
                <h5 class="pull-left mrg-t">
                    @string.Format("[[[Page {0} of {1}]]]", Model.ListingsPageList.PageCount < Model.PageNumber ? 0 : Model.PageNumber, Model.ListingsPageList.PageCount)
                </h5>
                @Html.PagedListPager(Model.ListingsPageList, (page) => { return Request.UrlReplace("PageNumber", page.ToString()); },
                new PagedListRenderOptions
                     {
                         ContainerDivClasses = new List<string>(new string[] { "pull-right" }),
                         DisplayPageCountAndCurrentLocation = false,
                         MaximumPageNumbersToDisplay = 5,
                         DisplayEllipsesWhenNotShowingAllPageNumbers = false
                     })
            </div>
        </div>
    </div>
</div>