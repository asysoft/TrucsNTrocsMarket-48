@model BeYourMarket.Web.Models.RegisterViewModel
@{
    /**/
    ViewBag.Title = "[[[Register]]]";
}

@section Styles {
<style>
        #dGeneral {
            overflow: auto;
            background-color: #EAF4D3;
        }

        /*#dPart {
            margin-top: 5px;
            font-size: 14px;
        }*/

        #dPro {
            display: none;

        }

        #idBtnType {
            margin-top: 10px;
            margin-bottom: 10px;
            display: flex;
            flex-direction: row;
            justify-content: center;
        }

        #divLogoHautGauche {
            float : left;
            margin-left: 10px;
            margin-top: 0px;
            width: 150px;
            height: 184px;
            background-repeat: no-repeat ;
        }

        #divPubRegisterHaut{
            margin-left: 200px;
            margin-top: 10px;
            width : 800px;
            height: 200px;
        }

        #divPubRegisterGauche {
            float : left;
            margin-left: 1px;
            margin-top: 150px;
            width: 250px;
            height: 350px;
        }

        #divPubRegisterDroite {
            float : right;
            margin-left: 1px
            margin-right: 15px;
            margin-top: 150px;
            width: 250px;
            height: 350px;
        }
</style>
}


<!-- Start Main Content -->
<div class=" main-section">
    <div class="container-fluid" style="background-color:#EAF4D3">
        <div id="divLogoHautGauche" style="background-image: url(@ImageHelper.GetCommunityImagePath("LogoTnTcom_150x184", "png"));"></div>
        <div id="divPubRegisterHaut">
            <img src="@ImageHelper.GetCommunityImagePubsPath("pub_Register_Haut_800x200_Img1")" style="display: block;" pubHaut />
            @{
                for (int iH = 2; iH <= @ImageHelper.GetMaxNbforPub("pub_Register_Haut_800x200_Img"); iH++)
                {
                    <img src="@ImageHelper.GetCommunityImagePubsPath("pub_Register_Haut_800x200_Img" + iH)" style="display: none;" pubHaut />
                }
            }

        </div>
        <div id="divPubRegisterGauche">
            <img src="@ImageHelper.GetCommunityImagePubsPath("pub_Register_Gauche_250x350_Img1")" style="display: block;" pubgauche />
            @{
                for (int iG = 2; iG <= @ImageHelper.GetMaxNbforPub("pub_Register_Gauche_250x350_Img"); iG++)
                {
                    <img src="@ImageHelper.GetCommunityImagePubsPath("pub_Register_Gauche_250x350_Img" + iG)" style="display: none;" pubgauche />
                }
            }

        </div>
        <div id="divPubRegisterDroite">
            <img src="@ImageHelper.GetCommunityImagePubsPath("pub_Register_Droite_250x350_Img1")" style="display: block;" pubdroite />
            @{
                for (int iD = 2; iD <= @ImageHelper.GetMaxNbforPub("pub_Register_Droite_250x350_Img"); iD++)
                {
                    <img src="@ImageHelper.GetCommunityImagePubsPath("pub_Register_Droite_250x350_Img" + iD)" style="display: none;" pubdroite />
                }
            }
        </div>
        <div class="mx-auto col-md-6">

            <div class="panel panel-default mrg-t" style="width:500px;">
                <div class="panel-body panel-header bdr-b" style="text-align:center;">
                    <h4>[[[Create an account]]]</h4>
                    <p>
                        @CacheHelper.Settings.SignupText
                    </p>
                </div>
                <div class="panel-body">

                    @if (CacheHelper.Settings.AgreementRequired)
                    {
                        <div id="agreementModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="agreementModalLabel" aria-hidden="true" style="display: none;">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                        <h4 class="modal-title" id="agreementModalLabel">[[[Agreement]]]</h4>
                                    </div>
                                    <div class="modal-body">
                                        <h4>@CacheHelper.Settings.AgreementLabel</h4>
                                        <p>@CacheHelper.Settings.AgreementText</p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">[[[Close]]]</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }

                    @using (Html.BeginForm("Register", "Account", FormMethod.Post, new { role = "form", id = "form0" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                        <div id="idBtnType" class="btn-group" data-toggle="buttons">
                            <label class="btn btn-success btn-lg active w-50">
                                <input type="radio" name="options" id="optPart" autocomplete="off" checked>  [[[Personal]]]
                            </label>
                            <label class="btn btn-success btn-lg w-50">
                                <input type="radio" name="options" id="optPro" autocomplete="off">  [[[Professional]]]
                            </label>
                        </div>

                        <div id="dGeneral" >
                            <div id="dPart">
                                <div class="form-group">
                                    <label for="Email">[[[Email]]] <span class="text-red">*</span></label>
                                    <input type="text" name="Email" id="Email" class="form-control input-lg" placeholder="[[[Enter email]]]" data-rule-required="true" data-rule-email="true">
                                </div>
                                <div class="form-group">
                                    <label for="Password">[[[Password]]] <span class="text-red">*</span></label>
                                    <input type="password" name="Password" id="Password" class="form-control input-lg" placeholder="[[[Password]]]" data-rule-required="true" data-rule-minlength="6">
                                </div>
                                <div class="form-group">
                                    <label for="ConfirmPassword">[[[Confirm Password]]] <span class="text-red">*</span></label>
                                    <input type="password" name="ConfirmPassword" id="ConfirmPassword" class="form-control input-lg" placeholder="[[[Confirm Password]]]" data-rule-required="true" data-rule-minlength="6" data-rule-equalto="#Password">
                                </div>

                            </div>
                            <div id="dPro" class="mt-3">
                                <h5>
                                    [[[Required fields for professional accounts]]]
                                </h5>
                                <div class="form-group m-t-10">
                                    <label for="Civility">[[[Civility]]] <span class="text-red">*</span></label>
                                    <input type="radio" name="Civility" id="CivilityMr" data-rule-required="true" data-rule-civility="true">
                                    <label for="CivilityMr">Mr</label>
                                    <input type="radio" name="Civility" id="CivilityMme" data-rule-required="true" data-rule-civility="true">
                                    <label for="CivilityMr">Mme</label>

                                </div>
                                <div class="form-group">
                                    <label for="LastName">[[[Last Name]]] <span class="text-red">*</span></label>
                                    <input type="text" name="CompanyOwnerLastName" id="CompanyOwnerLastName" class="form-control input-lg" placeholder="[[[Last Name of the Owner]]]" data-rule-required="true" data-rule-companyownerlastname="true">
                                </div>
                                <div class="form-group">
                                    <label for="FirstName">[[[First Name]]] <span class="text-red">*</span></label>
                                    <input type="text" name="CompanyOwnerFirstName" id="CompanyOwnerFirstName" class="form-control input-lg" placeholder="[[[First Name of the Owner]]]" data-rule-required="true" data-rule-companyownerfirstname="true">
                                </div>
                                <div class="form-group">
                                    <label for="CompanyName">[[[Company]]] <span class="text-red">*</span></label>
                                    <input type="text" name="CompanyName" id="CompanyName" class="form-control input-lg" placeholder="[[[Company Name]]]" data-rule-required="true" data-rule-companyname="true">
                                </div>
                                <div class="form-group">
                                    <label for="FirmSiret">[[[Siret]]] <span class="text-red">*</span></label>
                                    <input type="text" name="CompanySiret" id="CompanySiret" class="form-control input-lg" placeholder="[[[Company SIRET number]]]" data-rule-required="true" data-rule-CompanySiret="true">
                                </div>
                                <div class="form-group">
                                    <label for="CompanyMainCategory">[[[Main Category]]] <span class="text-red">*</span></label>
                                    <input type="text" name="CompanyMainCategory" id="CompanyMainCategory" class="form-control input-lg" placeholder="[[[Main professional activity]]]" data-rule-required="true" data-rule-companymaincategory="true">
                                </div>
                                <div class="form-group">
                                    <label for="CompanyAdress">[[[Adress]]] <span class="text-red">*</span></label>
                                    <input type="text" name="CompanyAdress" id="CompanyAdress" class="form-control input-lg" placeholder="[[[Company Adress]]]" data-rule-required="true" data-rule-companyadress="true">
                                </div>
                                <div class="form-group">
                                    <label for="CompanyTownZip">[[[Town or Zip Code]]] <span class="text-red">*</span></label>
                                    <input type="text" name="CompanyTownZip" id="CompanyTownZip" class="form-control input-lg" placeholder="[[[Company Town or Zip Code]]]" data-rule-required="true" data-rule-companytownzip="true">
                                </div>
                                <div class="form-group">
                                    <label for="CompanyPhone">[[[Phone]]] <span class="text-red">*</span></label>
                                    <input type="text" name="CompanyPhone" id="CompanyPhone" class="form-control input-lg" placeholder="[[[Company Phone]]]" data-rule-required="true" data-rule-companyphone="true">
                                </div>
                            </div>

                        </div>
                    }
                </div>
                <div class="panel-footer " style="text-align:center">
                    @if (CacheHelper.Settings.AgreementRequired)
                    {
                        <div class="form-group">
                            <input type="checkbox" id="Accept" name="Accept" value="true" data-rule-required="true" />
                            <label for="Accept">[[[I accept the]]] <a id="agreementModal" data-toggle="modal" data-target="#agreementModal">[[[Terms & Conditions]]]</a></label>
                        </div>
                    }
                    <input type="submit" class="btn btn-success btn-lg w-100 " value="[[[Join]]]">
                    <div><span>[[[Already a member?]]] <a href="@Url.Action("Login", "Account")">[[[Login]]]</a></span></div>
                </div>

            </div>

        </div>

    </div>
</div>

<!-- ./ Main Content -->
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript">
 
        $('#idBtnType').on('click', function (e) {
            var elPro = document.getElementById("dPro");
            if (e.target.control.id == "optPro")
                elPro.style.display = 'block';
            else
                elPro.style.display = 'none';

        }) 

    </script>

}
